0 mb-4",children:"\ud83d\udcc1 Uploaded Documents"}),l.length>0?(0,en.jsx)("div",{className:"space-y-4",children:l.map((e,t)=>(0,en.jsx)("div",{className:"border border-gray-200 rounded-lg p-4",children:(0,en.jsxs)("div",{className:"flex items-center justify-between",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"font-medium text-gray-900",children:e.document_type.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())}),(0,en.jsx)("p",{className:"text-sm text-gray-600",children:e.document_name}),(0,en.jsxs)("p",{className:"text-xs text-gray-500",children:["Uploaded: ",new Date(e.uploaded_at).toLocaleDateString()]})]}),(0,en.jsxs)("div",{className:"text-right",children:[(0,en.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,en.jsx)("span",{style:{color:C(e.status)},children:N(e.status)}),(0,en.jsx)("span",{className:"font-medium",style:{color:C(e.status)},children:e.status.replace("_"," ").toUpperCase()})]}),e.rejection_reason&&(0,en.jsxs)("p",{className:"text-xs text-red-600 mt-1",children:["Reason: ",e.rejection_reason]})]})]})},t))}):(0,en.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,en.jsx)("p",{children:"No documents uploaded yet."}),(0,en.jsx)("p",{className:"text-sm mt-2",children:"Start by uploading your National ID and a recent utility bill."})]})]})]}),"status"===b&&p&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udcca Verification Review Status"}),(0,en.jsxs)("div",{className:"space-y-6",children:[(0,en.jsxs)("div",{children:[(0,en.jsxs)("div",{className:"flex justify-between text-sm font-medium text-gray-700 mb-2",children:[(0,en.jsx)("span",{children:"Verification Progress"}),(0,en.jsxs)("span",{children:[p.progress_percentage,"%"]})]}),(0,en.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,en.jsx)("div",{className:"bg-red-600 h-3 rounded-full transition-all duration-300",style:{width:`${p.progress_percentage}%`}})})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Current Status"}),(0,en.jsxs)("div",{className:"p-4 rounded-lg",style:{backgroundColor:`${C(p.verification_status)}20`},children:[(0,en.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,en.jsx)("span",{style:{color:C(p.verification_status)},children:N(p.verification_status)}),(0,en.jsx)("span",{className:"font-medium",style:{color:C(p.verification_status)},children:null===(t=p.verification_status)||void 0===t?void 0:t.replace("_"," ").toUpperCase()})]}),p.verification_notes&&(0,en.jsxs)("p",{className:"text-sm text-gray-700 mt-2",children:[(0,en.jsx)("strong",{children:"Notes:"})," ",p.verification_notes]})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Document Status"}),(0,en.jsxs)("div",{className:"space-y-2",children:[(0,en.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,en.jsx)("span",{children:"\u2705 Approved:"}),(0,en.jsx)("span",{className:"font-medium text-green-600",children:p.approved_count})]}),(0,en.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,en.jsx)("span",{children:"\u23f3 Pending:"}),(0,en.jsx)("span",{className:"font-medium text-orange-600",children:p.pending_count})]}),(0,en.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,en.jsx)("span",{children:"\u274c Rejected:"}),(0,en.jsx)("span",{className:"font-medium text-red-600",children:p.rejected_count})]})]})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Required Documents"}),(0,en.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:null===(r=p.required_documents)||void 0===r?void 0:r.map((e,t)=>{var r;const n=l.some(t=>t.document_type===e),o=null===(r=l.find(t=>t.document_type===e))||void 0===r?void 0:r.status;return(0,en.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded",children:[(0,en.jsx)("span",{style:{color:n?C(o):"#6b7280"},children:n?N(o):"\ud83d\udccb"}),(0,en.jsx)("span",{className:"text-sm",children:e.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})]},t)})})]}),p.verified_at&&(0,en.jsx)("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:(0,en.jsxs)("p",{className:"text-sm text-green-800",children:[(0,en.jsx)("strong",{children:"\u2705 Verification Completed:"})," ",new Date(p.verified_at).toLocaleDateString()]})})]})]})]})]})},An=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1);return(0,en.jsxs)("div",{style:{padding:"2rem",maxWidth:"600px",margin:"0 auto"},children:[(0,en.jsx)("h1",{children:"\ud83d\udd0d Network Connection Test"}),(0,en.jsx)("p",{children:"This page helps test the connection between frontend and backend."}),(0,en.jsx)("button",{onClick:async()=>{n(!0),t("Testing network connection...");try{const e="https://libtousa.com";console.log("Testing API_BASE:",e);const r=await fetch(`${e}/health`),n=await r.json();t(`\u2705 Connection successful!\nAPI Base: ${e}\nStatus: ${n.status}\nMessage: ${n.message}\nDatabase Connected: ${n.database_connected}`)}catch(e){console.error("Network test failed:",e),t(`\u274c Connection failed:\nError: ${e.message}\nAPI Base: https://libtousa.com\nPlease check the browser console for more details.`)}finally{n(!1)}},disabled:r,style:{padding:"1rem 2rem",backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"8px",cursor:r?"not-allowed":"pointer",fontSize:"1rem",marginBottom:"1rem"},children:r?"Testing...":"\ud83d\ude80 Test Network Connection"}),(0,en.jsx)("div",{style:{backgroundColor:"#f9fafb",padding:"1rem",borderRadius:"8px",border:"1px solid #e5e7eb",minHeight:"100px",whiteSpace:"pre-line",fontFamily:"monospace"},children:e||"Click the button above to test network connection"}),(0,en.jsxs)("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"#6b7280"},children:[(0,en.jsx)("p",{children:(0,en.jsx)("strong",{children:"Current Configuration:"})}),(0,en.jsxs)("p",{children:["API Base URL: ","https://libtousa.com"]}),(0,en.jsxs)("p",{children:["Test URL: ","https://libtousa.com","/health"]})]})]})},Tn=()=>{const[e,t]=(0,a.useState)({email:"",password:""}),[r,n]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)(!1),{login:d}=an(),c=ne(),u=o=>{t({...e,[o.target.name]:o.target.value}),r&&n("")};return(0,en.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"max-w-md w-full mx-4",children:[(0,en.jsxs)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"2rem",borderRadius:"15px 15px 0 0",textAlign:"center",position:"relative",overflow:"hidden"},children:[(0,en.jsx)("div",{style:{position:"absolute",top:"10px",left:"20px",fontSize:"1.5rem",animation:"sparkleMove 3s linear infinite"},children:"\u26a1"}),(0,en.jsx)("div",{style:{position:"absolute",top:"15px",right:"30px",fontSize:"1.2rem",animation:"sparkleMove 3s linear infinite 1s"},children:"\ud83d\udee1\ufe0f"}),(0,en.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"\ud83c\udfdb\ufe0f Admin Portal \ud83c\udfdb\ufe0f"}),(0,en.jsx)("p",{style:{fontSize:"1rem",opacity:"0.9",marginBottom:"0"},children:"Liberia2USA Express Administration"})]}),(0,en.jsxs)("div",{style:{background:"white",padding:"2.5rem",borderRadius:"0 0 15px 15px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",border:"3px solid #ffd700"},children:[r&&(0,en.jsxs)("div",{className:"error-message mb-6",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fed7d7 100%)",color:"#dc2626",padding:"1rem",borderRadius:"10px",border:"2px solid #fecaca",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u26a0\ufe0f"}),(0,en.jsx)("span",{style:{fontWeight:"500"},children:r})]}),(0,en.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(!0),n("");const r=await d(e.email,e.password);r.success?c("/admin/dashboard"):n(r.error),i(!1)},style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,en.jsxs)("div",{className:"form-group",children:[(0,en.jsx)("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",color:"#374151",fontWeight:"600",fontSize:"0.95rem"},children:"\ud83d\udc64 Admin Email *"}),(0,en.jsx)("input",{type:"email",name:"email",value:e.email,onChange:u,required:!0,placeholder:"admin@liberia2usa.com",className:"registration-form-input",style:{width:"100%",padding:"0.875rem",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"1rem",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",outline:"none"}})]}),(0,en.jsxs)("div",{className:"form-group",children:[(0,en.jsx)("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",color:"#374151",fontWeight:"600",fontSize:"0.95rem"},children:"\ud83d\udd12 Password *"}),(0,en.jsxs)("div",{style:{position:"relative"},children:[(0,en.jsx)("input",{type:s?"text":"password",name:"password",value:e.password,onChange:u,required:!0,placeholder:"Enter your admin password",className:"registration-form-input",style:{width:"100%",padding:"0.875rem",paddingRight:"3rem",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"1rem",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",outline:"none"}}),(0,en.jsx)("button",{type:"button",onClick:()=>l(!s),className:"password-toggle",style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},children:s?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,en.jsx)("button",{type:"submit",disabled:o,className:"registration-submit-btn",style:{width:"100%",padding:"1rem",background:o?"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"1.1rem",fontWeight:"bold",cursor:o?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:o?"none":"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:o?(0,en.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Authenticating..."]}):"\ud83d\ude80 Access Admin Dashboard"})]}),(0,en.jsxs)("div",{style:{textAlign:"center",marginTop:"2rem",padding:"1rem",backgroundColor:"#f0f9ff",borderRadius:"10px",border:"1px solid #0ea5e9"},children:[(0,en.jsxs)("p",{style:{color:"#0369a1",margin:"0",fontSize:"0.9rem"},children:["\ud83d\udd11 ",(0,en.jsx)("strong",{children:"Default Login:"})," admin@liberia2usa.com / Admin@2025!"]}),(0,en.jsx)("p",{style:{color:"#7c2d12",margin:"0.5rem 0 0",fontSize:"0.8rem"},children:"\u26a0\ufe0f Change password after first login"})]}),(0,en.jsx)("div",{style:{textAlign:"center",marginTop:"1rem",padding:"0.75rem",backgroundColor:"#f0fdf4",borderRadius:"8px",border:"1px solid #16a34a"},children:(0,en.jsx)("p",{style:{color:"#15803d",margin:"0",fontSize:"0.85rem"},children:"\ud83d\udd12 Secure admin access with encrypted authentication"})})]})]})})},Pn=()=>{const{admin:e,logout:t,hasPermission:r}=an(),n=ne(),[o,i]=(0,a.useState)(null),[s,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)("overview");(0,a.useEffect)(()=>{e?m():n("/admin/login")},[e,n]);const m=async()=>{try{const e=await fetch("https://libtousa.com/api/admin/dashboard/stats",{headers:{Authorization:`Bearer ${localStorage.getItem("admin_token")}`}});if(e.ok){const t=await e.json();i(t.stats)}else c("Failed to load dashboard statistics")}catch(d){c("Error loading dashboard data")}finally{l(!1)}},f=e=>{let{title:t,value:r,icon:n,color:o,subtitle:a}=e;return(0,en.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:`2px solid ${o}`},children:(0,en.jsxs)("div",{className:"flex items-center justify-between",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("p",{className:"text-sm font-medium text-gray-600",children:t}),(0,en.jsx)("p",{className:"text-3xl font-bold",style:{color:o},children:r}),a&&(0,en.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:a})]}),(0,en.jsx)("div",{className:"text-4xl opacity-80",children:n})]})})};return s?(0,en.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"text-center",children:[(0,en.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,en.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading admin dashboard..."})]})}):(0,en.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,en.jsx)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"1rem 0",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",border:"3px solid #ffd700"},children:(0,en.jsxs)("div",{className:"max-w-7xl mx-auto px-4 flex justify-between items-center",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("h1",{style:{fontSize:"1.8rem",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"\ud83c\udfdb\ufe0f Admin Dashboard"}),(0,en.jsxs)("p",{style:{fontSize:"1rem",opacity:"0.9",marginTop:"0.25rem"},children:["Welcome, ",null===e||void 0===e?void 0:e.firstName," ",null===e||void 0===e?void 0:e.lastName," (",null===e||void 0===e?void 0:e.role,")"]})]}),(0,en.jsx)("button",{onClick:()=>{t(),n("/admin/login")},className:"bg-white text-red-600 px-4 py-2 rounded-lg font-medium hover:bg-gray-100 transition-colors",children:"\ud83d\udeaa Logout"})]})}),(0,en.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[d&&(0,en.jsxs)("div",{className:"error-message mb-6",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fed7d7 100%)",color:"#dc2626",padding:"1rem",borderRadius:"10px",border:"2px solid #fecaca",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u26a0\ufe0f"}),(0,en.jsx)("span",{style:{fontWeight:"500"},children:d})]}),(0,en.jsx)("div",{className:"mb-8",children:(0,en.jsx)("nav",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"overview",label:"\ud83d\udcca Overview",permission:"view_analytics"},{id:"users",label:"\ud83d\udc65 Users",permission:"manage_users"},{id:"products",label:"\ud83d\udce6 Products",permission:"manage_products"},{id:"reports",label:"\ud83d\udccb Reports",permission:"resolve_disputes"},{id:"activities",label:"\ud83d\udcdc Activities",permission:"view_analytics"}].filter(e=>r(e.permission)).map(e=>(0,en.jsx)("button",{onClick:()=>p(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm "+(u===e.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"overview"===u&&o&&(0,en.jsxs)("div",{className:"space-y-8",children:[(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,en.jsx)(f,{title:"Total Users",value:o.total_users,icon:"\ud83d\udc65",color:"#dc2626",subtitle:`${o.total_buyers} buyers, ${o.total_sellers} sellers`}),(0,en.jsx)(f,{title:"Active Products",value:o.active_products,icon:"\ud83d\udce6",color:"#059669",subtitle:`${o.pending_products} pending approval`}),(0,en.jsx)(f,{title:"Transactions",value:o.total_transactions,icon:"\ud83d\udcb3",color:"#7c3aed",subtitle:"All time"}),(0,en.jsx)(f,{title:"Pending Reports",value:o.pending_reports,icon:"\ud83d\udccb",color:"#ea580c",subtitle:`${o.resolved_reports} resolved`})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,en.jsx)(f,{title:"Revenue This Month",value:`$${o.revenue_this_month.toFixed(2)}`,icon:"\ud83d\udcc8",color:"#16a34a",subtitle:"Current month earnings"}),(0,en.jsx)(f,{title:"Revenue Last Month",value:`$${o.revenue_last_month.toFixed(2)}`,icon:"\ud83d\udcca",color:"#2563eb",subtitle:"Previous month comparison"})]}),(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\ude80 Quick Actions"}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r("manage_users")&&(0,en.jsxs)("button",{onClick:()=>p("users"),className:"p-4 bg-blue-50 border-2 border-blue-200 rounded-lg hover:bg-blue-100 transition-colors text-left",children:[(0,en.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udc65"}),(0,en.jsx)("div",{className:"font-medium text-blue-900",children:"Manage Users"}),(0,en.jsx)("div",{className:"text-sm text-blue-600",children:"Verify, suspend, or ban users"})]}),r("manage_products")&&(0,en.jsxs)("button",{onClick:()=>p("products"),className:"p-4 bg-green-50 border-2 border-green-200 rounded-lg hover:bg-green-100 transition-colors text-left",children:[(0,en.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udce6"}),(0,en.jsx)("div",{className:"font-medium text-green-900",children:"Review Products"}),(0,en.jsx)("div",{className:"text-sm text-green-600",children:"Approve or reject listings"})]}),r("resolve_disputes")&&(0,en.jsxs)("button",{onClick:()=>p("reports"),className:"p-4 bg-orange-50 border-2 border-orange-200 rounded-lg hover:bg-orange-100 transition-colors text-left",children:[(0,en.jsx)("div",{className:"text-2xl mb-2",children:"\ud83d\udccb"}),(0,en.jsx)("div",{className:"font-medium text-orange-900",children:"Handle Reports"}),(0,en.jsx)("div",{className:"text-sm text-orange-600",children:"Resolve user and product reports"})]})]})]})]}),"users"===u&&r("manage_users")&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udc65 User Management"}),(0,en.jsx)("p",{className:"text-gray-600",children:"User management interface will be loaded here."})]}),"products"===u&&r("manage_products")&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udce6 Product Management"}),(0,en.jsx)("p",{className:"text-gray-600",children:"Product management interface will be loaded here."})]}),"reports"===u&&r("resolve_disputes")&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Reports Management"}),(0,en.jsx)("p",{className:"text-gray-600",children:"Reports management interface will be loaded here."})]}),"activities"===u&&r("view_analytics")&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udcdc Admin Activities"}),(0,en.jsx)("p",{className:"text-gray-600",children:"Activity logs will be displayed here."})]})]})]})},Bn=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(!1),[o,i]=(0,a.useState)(!1),[s,l]=(0,a.useState)("");return(0,en.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"max-w-md w-full mx-4",children:[(0,en.jsxs)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"2rem",borderRadius:"15px 15px 0 0",textAlign:"center",position:"relative",overflow:"hidden"},children:[(0,en.jsx)("div",{style:{position:"absolute",top:"10px",left:"20px",fontSize:"1.5rem",animation:"sparkleMove 3s linear infinite"},children:"\ud83d\udd11"}),(0,en.jsx)("div",{style:{position:"absolute",top:"15px",right:"30px",fontSize:"1.2rem",animation:"sparkleMove 3s linear infinite 1s"},children:"\ud83d\udd12"}),(0,en.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"\ud83c\uddf1\ud83c\uddf7 Reset Password \ud83c\uddfa\ud83c\uddf8"}),(0,en.jsx)("p",{style:{fontSize:"1rem",opacity:"0.9",marginBottom:"0"},children:"Liberia2USA Express Account Recovery"})]}),(0,en.jsxs)("div",{style:{background:"white",padding:"2.5rem",borderRadius:"0 0 15px 15px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",border:"3px solid #ffd700"},children:[o?(0,en.jsxs)("div",{style:{textAlign:"center"},children:[(0,en.jsxs)("div",{style:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",color:"#16a34a",padding:"2rem",borderRadius:"10px",border:"2px solid #86efac",marginBottom:"2rem"},children:[(0,en.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\u2705"}),(0,en.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem",color:"#16a34a"},children:"Reset Link Sent!"}),(0,en.jsx)("p",{style:{fontSize:"1rem",lineHeight:"1.5",marginBottom:"0"},children:"We've sent a password reset link to your email address. Please check your inbox and follow the instructions to reset your password."})]}),(0,en.jsxs)("div",{style:{background:"#f9fafb",padding:"1rem",borderRadius:"8px",border:"1px solid #e5e7eb",marginBottom:"1.5rem"},children:[(0,en.jsx)("p",{style:{fontSize:"0.9rem",color:"#6b7280",marginBottom:"0.5rem"},children:(0,en.jsx)("strong",{children:"\ud83d\udca1 Didn't receive the email?"})}),(0,en.jsxs)("ul",{style:{fontSize:"0.85rem",color:"#6b7280",marginLeft:"1rem",lineHeight:"1.4"},children:[(0,en.jsx)("li",{children:"Check your spam/junk folder"}),(0,en.jsx)("li",{children:"Wait a few minutes for delivery"}),(0,en.jsx)("li",{children:"Make sure you entered the correct email"})]})]}),(0,en.jsx)("button",{onClick:()=>{i(!1),t("")},style:{background:"linear-gradient(135deg, #6b7280 0%, #4b5563 100%)",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"500",cursor:"pointer",marginBottom:"1rem"},children:"\ud83d\udd04 Send Another Reset Link"})]}):(0,en.jsxs)(en.Fragment,{children:[(0,en.jsxs)("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[(0,en.jsx)("h2",{style:{fontSize:"1.5rem",color:"#374151",marginBottom:"1rem"},children:"Forgot Your Password?"}),(0,en.jsx)("p",{style:{color:"#6b7280",fontSize:"0.95rem",lineHeight:"1.5"},children:"No worries! Enter your email address and we'll send you a link to reset your password."})]}),s&&(0,en.jsxs)("div",{className:"error-message mb-6",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fed7d7 100%)",color:"#dc2626",padding:"1rem",borderRadius:"10px",border:"2px solid #fecaca",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u26a0\ufe0f"}),(0,en.jsx)("span",{style:{fontWeight:"500"},children:s})]}),(0,en.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),n(!0),l(""),i(!1),!e||!e.includes("@"))return l("Please enter a valid email address"),void n(!1);try{const r="https://libtousa.com";console.log("\ud83d\udd10 Sending password reset request for:",e);const n=await Xr.post(`${r}/api/auth/forgot-password`,{email:e});console.log("\ud83d\udd10 Password reset response:",n.status),n.data.success?(i(!0),t(""),console.log("\ud83d\udd10 Password reset email sent successfully")):l("Failed to send password reset email")}catch(s){console.error("\ud83d\udd10 Password reset request failed:",s),s.response?l(s.response.data.detail||"Failed to send password reset email"):s.request?l("Network error: Unable to connect to server. Please try again."):l("Failed to send password reset email. Please try again.")}n(!1)},style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,en.jsxs)("div",{className:"form-group",children:[(0,en.jsx)("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",color:"#374151",fontWeight:"600",fontSize:"0.95rem"},children:"\ud83d\udce7 Email Address *"}),(0,en.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),required:!0,placeholder:"Enter your registered email address",className:"registration-form-input",style:{width:"100%",padding:"0.875rem",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"1rem",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",outline:"none"}}),(0,en.jsx)("p",{style:{fontSize:"0.85rem",color:"#6b7280",marginTop:"0.5rem",marginBottom:"0"},children:"We'll send a password reset link to this email"})]}),(0,en.jsx)("button",{type:"submit",disabled:r,className:"registration-submit-btn",style:{width:"100%",padding:"1rem",background:r?"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"1.1rem",fontWeight:"bold",cursor:r?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:r?"none":"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:r?(0,en.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Sending Reset Link..."]}):"\ud83d\ude80 Send Reset Link"})]})]}),(0,en.jsx)("div",{style:{textAlign:"center",marginTop:"2rem",padding:"1rem",backgroundColor:"#f9fafb",borderRadius:"10px"},children:(0,en.jsxs)("p",{style:{color:"#6b7280",margin:"0",fontSize:"1rem"},children:["Remember your password?"," ",(0,en.jsx)(ze,{to:"/login",style:{color:"#dc2626",textDecoration:"none",fontWeight:"bold",transition:"color 0.3s"},onMouseEnter:e=>e.target.style.color="#b91c1c",onMouseLeave:e=>e.target.style.color="#dc2626",children:"\ud83d\udd11 Back to Login"})]})})]})]})})},Ln=()=>{const[e]=Pe(),t=ne(),r=e.get("token"),[n,o]=(0,a.useState)({new_password:"",confirm_password:""}),[i,s]=(0,a.useState)(!1),[l,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)(!1),[p,m]=(0,a.useState)(""),[f,h]=(0,a.useState)(!1),[g,x]=(0,a.useState)(""),[b,y]=(0,a.useState)(!1),[v,w]=(0,a.useState)(!1);(0,a.useEffect)(()=>{if(!r)return x("Invalid reset link. Please request a new password reset."),void d(!1);j()},[r]);const j=async()=>{try{const e="https://libtousa.com",t=await Xr.get(`${e}/api/auth/verify-reset-token/${r}`);t.data.success?(u(!0),m(t.data.email),console.log("\ud83d\udd10 Reset token verified for:",t.data.email)):x("Invalid or expired reset token")}catch(g){console.error("\ud83d\udd10 Token verification failed:",g),g.response?x(g.response.data.detail||"Invalid or expired reset token"):x("Unable to verify reset token. Please try again.")}finally{d(!1)}},S=e=>{o({...n,[e.target.name]:e.target.value}),g&&x("")};return l?(0,en.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"text-center",children:[(0,en.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,en.jsx)("p",{className:"mt-4 text-gray-600",children:"Verifying reset token..."})]})}):c?(0,en.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"max-w-md w-full mx-4",children:[(0,en.jsxs)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"2rem",borderRadius:"15px 15px 0 0",textAlign:"center",position:"relative",overflow:"hidden"},children:[(0,en.jsx)("div",{style:{position:"absolute",top:"10px",left:"20px",fontSize:"1.5rem",animation:"sparkleMove 3s linear infinite"},children:"\ud83d\udd10"}),(0,en.jsx)("div",{style:{position:"absolute",top:"15px",right:"30px",fontSize:"1.2rem",animation:"sparkleMove 3s linear infinite 1s"},children:"\ud83d\udd11"}),(0,en.jsx)("h1",{style:{fontSize:"2rem",fontWeight:"bold",marginBottom:"0.5rem",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:"\ud83c\uddf1\ud83c\uddf7 New Password \ud83c\uddfa\ud83c\uddf8"}),(0,en.jsx)("p",{style:{fontSize:"1rem",opacity:"0.9",marginBottom:"0"},children:"Liberia2USA Express Account Recovery"})]}),(0,en.jsx)("div",{style:{background:"white",padding:"2.5rem",borderRadius:"0 0 15px 15px",boxShadow:"0 8px 25px rgba(0,0,0,0.15)",border:"3px solid #ffd700"},children:f?(0,en.jsxs)("div",{style:{textAlign:"center"},children:[(0,en.jsxs)("div",{style:{background:"linear-gradient(135deg, #f0fdf4 0%, #dcfce7 100%)",color:"#16a34a",padding:"2rem",borderRadius:"10px",border:"2px solid #86efac",marginBottom:"2rem"},children:[(0,en.jsx)("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"\u2705"}),(0,en.jsx)("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1rem",color:"#16a34a"},children:"Password Updated!"}),(0,en.jsx)("p",{style:{fontSize:"1rem",lineHeight:"1.5",marginBottom:"1rem"},children:"Your password has been successfully updated. You can now log in with your new password."}),(0,en.jsx)("p",{style:{fontSize:"0.9rem",color:"#059669"},children:"Redirecting to login page in 3 seconds..."})]}),(0,en.jsx)(ze,{to:"/login",style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",textDecoration:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"500",display:"inline-block"},children:"\ud83d\udd11 Login Now"})]}):(0,en.jsxs)(en.Fragment,{children:[(0,en.jsxs)("div",{style:{marginBottom:"2rem",textAlign:"center"},children:[(0,en.jsx)("h2",{style:{fontSize:"1.5rem",color:"#374151",marginBottom:"1rem"},children:"Set New Password"}),(0,en.jsxs)("p",{style:{color:"#6b7280",fontSize:"0.95rem",lineHeight:"1.5"},children:["Resetting password for: ",(0,en.jsx)("strong",{children:p})]})]}),g&&(0,en.jsxs)("div",{className:"error-message mb-6",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fed7d7 100%)",color:"#dc2626",padding:"1rem",borderRadius:"10px",border:"2px solid #fecaca",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u26a0\ufe0f"}),(0,en.jsx)("span",{style:{fontWeight:"500"},children:g})]}),(0,en.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),s(!0),x(""),n.new_password.length<6)return x("Password must be at least 6 characters long"),void s(!1);if(n.new_password!==n.confirm_password)return x("Passwords do not match"),void s(!1);try{const e="https://libtousa.com";console.log("\ud83d\udd10 Resetting password with token");const o=await Xr.post(`${e}/api/auth/reset-password`,{token:r,new_password:n.new_password,confirm_password:n.confirm_password});console.log("\ud83d\udd10 Password reset response:",o.status),o.data.success?(h(!0),console.log("\ud83d\udd10 Password reset successful"),setTimeout(()=>{t("/login",{state:{message:"Password reset successful! Please log in with your new password."}})},3e3)):x(o.data.message||"Failed to reset password")}catch(g){console.error("\ud83d\udd10 Password reset failed:",g),g.response?x(g.response.data.detail||"Failed to reset password"):g.request?x("Network error: Unable to connect to server. Please try again."):x("Failed to reset password. Please try again.")}s(!1)},style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[(0,en.jsxs)("div",{className:"form-group",children:[(0,en.jsx)("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",color:"#374151",fontWeight:"600",fontSize:"0.95rem"},children:"\ud83d\udd12 New Password *"}),(0,en.jsxs)("div",{style:{position:"relative"},children:[(0,en.jsx)("input",{type:b?"text":"password",name:"new_password",value:n.new_password,onChange:S,required:!0,placeholder:"Enter your new password",className:"registration-form-input "+(0===n.new_password.length?"":n.new_password.length<6?"password-strength-weak":n.new_password.length<10?"password-strength-medium":"password-strength-strong"),style:{width:"100%",padding:"0.875rem",paddingRight:"3rem",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"1rem",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",outline:"none"}}),(0,en.jsx)("button",{type:"button",onClick:()=>y(!b),className:"password-toggle",style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},children:b?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]}),(0,en.jsx)("p",{style:{fontSize:"0.85rem",color:"#6b7280",marginTop:"0.5rem",marginBottom:"0"},children:"Minimum 6 characters"})]}),(0,en.jsxs)("div",{className:"form-group",children:[(0,en.jsx)("label",{className:"form-label",style:{display:"block",marginBottom:"0.5rem",color:"#374151",fontWeight:"600",fontSize:"0.95rem"},children:"\ud83d\udd12 Confirm New Password *"}),(0,en.jsxs)("div",{style:{position:"relative"},children:[(0,en.jsx)("input",{type:v?"text":"password",name:"confirm_password",value:n.confirm_password,onChange:S,required:!0,placeholder:"Confirm your new password",className:"registration-form-input "+(0===n.confirm_password.length?"":n.new_password!==n.confirm_password?"password-strength-weak":"password-strength-strong"),style:{width:"100%",padding:"0.875rem",paddingRight:"3rem",border:"2px solid #d1d5db",borderRadius:"8px",fontSize:"1rem",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",outline:"none"}}),(0,en.jsx)("button",{type:"button",onClick:()=>w(!v),className:"password-toggle",style:{position:"absolute",right:"0.75rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"1.2rem"},children:v?"\ud83d\ude48":"\ud83d\udc41\ufe0f"})]})]}),(0,en.jsx)("button",{type:"submit",disabled:i,className:"registration-submit-btn",style:{width:"100%",padding:"1rem",background:i?"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",borderRadius:"10px",fontSize:"1.1rem",fontWeight:"bold",cursor:i?"not-allowed":"pointer",transition:"all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94)",boxShadow:i?"none":"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:i?(0,en.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Updating Password..."]}):"\ud83d\ude80 Reset Password"})]})]})})]})}):(0,en.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,en.jsx)("div",{className:"max-w-md w-full mx-4",children:(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-8 text-center",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("div",{className:"text-6xl mb-4",children:"\u274c"}),(0,en.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Invalid Reset Link"}),(0,en.jsx)("p",{className:"text-gray-600 mb-6",children:g}),(0,en.jsxs)("div",{className:"space-y-3",children:[(0,en.jsx)(ze,{to:"/forgot-password",className:"inline-block w-full bg-red-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-red-700 transition-colors",children:"\ud83d\udd04 Request New Reset Link"}),(0,en.jsx)(ze,{to:"/login",className:"inline-block w-full bg-gray-200 text-gray-700 py-3 px-6 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"\ud83d\udd11 Back to Login"})]})]})})})};const In=function(){return(0,en.jsx)(nn,{children:(0,en.jsx)(sn,{children:(0,en.jsx)(_e,{children:(0,en.jsx)("div",{className:"App",children:(0,en.jsxs)(ve,{children:[(0,en.jsx)(be,{path:"/admin/login",element:(0,en.jsx)(Tn,{})}),(0,en.jsx)(be,{path:"/admin/dashboard",element:(0,en.jsx)(Pn,{})}),(0,en.jsx)(be,{path:"/network-test",element:(0,en.jsx)(An,{})}),(0,en.jsx)(be,{path:"/*",element:(0,en.jsxs)(en.Fragment,{children:[(0,en.jsx)(cn,{}),(0,en.jsx)("main",{className:"main-content",children:(0,en.jsxs)(ve,{children:[(0,en.jsx)(be,{path:"/",element:(0,en.jsx)(pn,{})}),(0,en.jsx)(be,{path:"/marketplace",element:(0,en.jsx)(mn,{})}),(0,en.jsx)(be,{path:"/shipping",element:(0,en.jsx)(wn,{})}),(0,en.jsx)(be,{path:"/chat",element:(0,en.jsx)(Nn,{})}),(0,en.jsx)(be,{path:"/checkout",element:(0,en.jsx)(_n,{})}),(0,en.jsx)(be,{path:"/payment-success",element:(0,en.jsx)(En,{})}),(0,en.jsx)(be,{path:"/orders",element:(0,en.jsx)(Rn,{})}),(0,en.jsx)(be,{path:"/login",element:(0,en.jsx)(fn,{})}),(0,en.jsx)(be,{path:"/register",element:(0,en.jsx)(hn,{})}),(0,en.jsx)(be,{path:"/forgot-password",element:(0,en.jsx)(Bn,{})}),(0,en.jsx)(be,{path:"/reset-password",element:(0,en.jsx)(Ln,{})}),(0,en.jsx)(be,{path:"/dashboard",element:(0,en.jsx)(xn,{})}),(0,en.jsx)(be,{path:"/add-product",element:(0,en.jsx)(vn,{})}),(0,en.jsx)(be,{path:"/seller-verification",element:(0,en.jsx)(zn,{})})]})}),(0,en.jsx)(un,{})]})})]})})})})})};s.createRoot(document.getElementById("root")).render((0,en.jsx)(a.StrictMode,{children:(0,en.jsx)(In,{})}))})();
//# sourceMappingURL=main.c9b9126d.js.map