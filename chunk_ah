("div",{className:"container",children:[(0,en.jsxs)("div",{style:{marginBottom:"2rem"},children:[(0,en.jsx)("h1",{style:{textAlign:"center",marginBottom:"1rem",color:"#1f2937"},children:"\ud83d\udcac Messages"}),(0,en.jsx)("p",{style:{textAlign:"center",color:"#6b7280",maxWidth:"600px",margin:"0 auto"},children:"Communicate securely with buyers and sellers. All messages are encrypted for your privacy."})]}),!o&&(0,en.jsxs)("div",{style:{display:"grid",gridTemplateColumns:r?"1fr 2fr":"1fr",gap:"1.5rem",height:"600px",maxWidth:"1200px",margin:"0 auto"},children:[(0,en.jsx)(Sn,{currentUserId:e.id,onChatSelect:d,selectedChatId:null===r||void 0===r?void 0:r.id}),r?(0,en.jsx)(Cn,{chat:r,currentUserId:e.id,onClose:c}):(0,en.jsxs)("div",{style:{backgroundColor:"white",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",padding:"2rem",color:"#6b7280"},children:[(0,en.jsx)("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"\ud83d\udcac"}),(0,en.jsx)("h3",{style:{color:"#374151",marginBottom:"0.5rem"},children:"Select a conversation"}),(0,en.jsx)("p",{children:"Choose a chat from the list to start messaging"})]})]}),o&&(0,en.jsx)("div",{style:{maxWidth:"500px",margin:"0 auto",height:"600px"},children:r?(0,en.jsx)(Cn,{chat:r,currentUserId:e.id,onClose:c}):(0,en.jsx)(Sn,{currentUserId:e.id,onChatSelect:d,selectedChatId:null===r||void 0===r?void 0:r.id})}),(0,en.jsx)("div",{style:{marginTop:"3rem",maxWidth:"800px",margin:"3rem auto 0"},children:(0,en.jsxs)("div",{style:{background:"white",padding:"2rem",borderRadius:"10px",boxShadow:"0 2px 10px rgba(0,0,0,0.1)"},children:[(0,en.jsx)("h3",{style:{marginBottom:"1.5rem",color:"#1f2937",textAlign:"center"},children:"\ud83d\udd12 Secure Chat Features"}),(0,en.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1.5rem"},children:[(0,en.jsxs)("div",{style:{textAlign:"center"},children:[(0,en.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udd10"}),(0,en.jsx)("h4",{style:{color:"#dc2626",marginBottom:"0.5rem"},children:"End-to-End Encryption"}),(0,en.jsx)("p",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"All messages are encrypted to protect your privacy and sensitive information."})]}),(0,en.jsxs)("div",{style:{textAlign:"center"},children:[(0,en.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\u26a1"}),(0,en.jsx)("h4",{style:{color:"#dc2626",marginBottom:"0.5rem"},children:"Real-time Messaging"}),(0,en.jsx)("p",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"Instant message delivery with typing indicators and read receipts."})]}),(0,en.jsxs)("div",{style:{textAlign:"center"},children:[(0,en.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udcf1"}),(0,en.jsx)("h4",{style:{color:"#dc2626",marginBottom:"0.5rem"},children:"Media Sharing"}),(0,en.jsx)("p",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"Share photos, videos, and files securely with buyers and sellers."})]}),(0,en.jsxs)("div",{style:{textAlign:"center"},children:[(0,en.jsx)("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"\ud83d\udee1\ufe0f"}),(0,en.jsx)("h4",{style:{color:"#dc2626",marginBottom:"0.5rem"},children:"Abuse Reporting"}),(0,en.jsx)("p",{style:{color:"#6b7280",fontSize:"0.9rem"},children:"Report inappropriate behavior to keep the platform safe for everyone."})]})]}),(0,en.jsx)("div",{style:{marginTop:"2rem",padding:"1rem",background:"#eff6ff",borderRadius:"8px",border:"1px solid #bfdbfe"},children:(0,en.jsxs)("p",{style:{color:"#1e40af",fontSize:"0.9rem",margin:0},children:["\ud83d\udca1 ",(0,en.jsx)("strong",{children:"Tip:"})," Keep conversations professional and focused on the products. Avoid sharing personal information like bank details or passwords."]})})]})})]})}):(0,en.jsx)("div",{className:"page",children:(0,en.jsx)("div",{className:"container",children:(0,en.jsx)("div",{style:{textAlign:"center",padding:"4rem 0"},children:(0,en.jsx)("p",{children:"Loading..."})})})})},_n=()=>{var e;const{user:t}=(0,a.useContext)(tn),r=ne(),n=te(),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)({carrier:"DHL",service:"Express",cost:25,estimated_days:3}),[d,c]=(0,a.useState)({name:t?`${t.firstName} ${t.lastName}`:"",email:(null===t||void 0===t?void 0:t.email)||"",address:"",city:"",state:"",zipCode:"",country:"USA"}),[u,p]=(0,a.useState)(null),[m,f]=(0,a.useState)(!1),[h,g]=(0,a.useState)(""),[x,b]=(0,a.useState)("stripe"),[y,v]=(0,a.useState)([]),[w,j]=(0,a.useState)(!1);(0,a.useEffect)(()=>{var e;if(!t)return void r("/login");const o=(null===(e=n.state)||void 0===e?void 0:e.cart)||JSON.parse(localStorage.getItem("cart")||"[]");0!==o.length?(i(o),k(o),S(o)):r("/marketplace")},[t,r,n.state]);const S=async e=>{if(e.length){j(!0);try{const t=e.reduce((e,t)=>e+(t.weight||1)*t.quantity,0),r=e.reduce((e,t)=>e+t.price*t.quantity,0),n=await fetch("https://libtousa.com/api/shipping/estimate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({packages:[{weight:Math.max(t,1),length:30,width:20,height:10,value:r}],destination:{country:"US",state:d.state||"NY"}})});if(n.ok){const e=await n.json();if(v(e.rates||[]),e.rates&&e.rates.length>0){const t=e.rates[0];l({carrier:t.carrier,service:t.service,cost:t.total_cost,estimated_days:t.transit_days})}}}catch(h){console.error("Error fetching shipping rates:",h)}finally{j(!1)}}},k=async e=>{try{const t=await fetch(`https://libtousa.com/api/payments/calculate-total?shipping_cost=${s.cost}`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e.map(e=>({product_id:e.id,product_name:e.name,quantity:e.quantity,unit_price:e.price,total_price:e.price*e.quantity,seller_id:e.seller_id,seller_name:e.seller_name})))});if(t.ok){const e=await t.json();p(e.breakdown)}else g("Failed to calculate order total")}catch(h){g("Error calculating total")}},C=e=>{c({...d,[e.target.name]:e.target.value})};return t?(0,en.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,en.jsx)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"1rem 0",marginBottom:"2rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",border:"3px solid #ffd700"},children:(0,en.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,en.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",animation:"textGlow 2s ease-in-out infinite alternate"},children:"\ud83c\uddf1\ud83c\uddf7 Secure Checkout \ud83c\uddfa\ud83c\uddf8"}),(0,en.jsx)("p",{style:{fontSize:"1.1rem",opacity:"0.9",marginTop:"0.5rem"},children:"\ud83c\udf89 Complete Your Independence Day Purchase - Connecting Liberian Heritage to American Markets! \ud83c\udf89"})]})}),(0,en.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[h&&(0,en.jsxs)("div",{className:"error-message mb-6",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fed7d7 100%)",color:"#dc2626",padding:"1rem",borderRadius:"10px",border:"2px solid #fecaca",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u26a0\ufe0f"}),(0,en.jsx)("span",{style:{fontWeight:"500"},children:h})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,en.jsx)("div",{className:"lg:col-span-1",children:(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 sticky top-8",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:"\ud83d\udecd\ufe0f Order Summary"}),(0,en.jsx)("div",{className:"space-y-4 max-h-64 overflow-y-auto",children:o.map((e,t)=>(0,en.jsxs)("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[(0,en.jsx)("div",{className:"flex-shrink-0 w-12 h-12 bg-gray-200 rounded-lg overflow-hidden",children:e.image_urls&&e.image_urls.length>0?(0,en.jsx)("img",{src:e.image_urls[0],alt:e.name,className:"w-full h-full object-cover"}):(0,en.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,en.jsx)("span",{className:"text-2xl",children:"\ud83d\udce6"})})}),(0,en.jsxs)("div",{className:"flex-1",children:[(0,en.jsx)("h3",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,en.jsxs)("p",{className:"text-sm text-gray-600",children:[e.quantity," \xd7 $",e.price.toFixed(2)]}),(0,en.jsxs)("p",{className:"text-xs text-gray-500",children:["by ",e.seller_name]})]}),(0,en.jsxs)("span",{className:"font-medium text-gray-900",children:["$",(e.price*e.quantity).toFixed(2)]})]},t))}),u&&(0,en.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,en.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Subtotal:"}),(0,en.jsxs)("span",{children:["$",u.subtotal.toFixed(2)]})]}),(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Shipping:"}),(0,en.jsxs)("span",{children:["$",u.shipping_cost.toFixed(2)]})]}),(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Tax:"}),(0,en.jsxs)("span",{children:["$",u.tax_amount.toFixed(2)]})]}),(0,en.jsxs)("div",{className:"flex justify-between text-lg font-bold border-t pt-2",style:{color:"#dc2626"},children:[(0,en.jsx)("span",{children:"Total:"}),(0,en.jsxs)("span",{children:["$",u.total_amount.toFixed(2)]})]})]})})]})}),(0,en.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:"\ud83d\ude9a Shipping Options"}),w?(0,en.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,en.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),(0,en.jsx)("span",{className:"ml-3 text-gray-600",children:"Loading shipping rates..."})]}):y.length>0?(0,en.jsx)("div",{className:"space-y-3",children:y.map((e,t)=>(0,en.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all "+(s.carrier===e.carrier&&s.service===e.service?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"),onClick:()=>{return t=e.carrier,r=e.service,n=e.total_cost,a=e.transit_days,l({carrier:t,service:r,cost:n,estimated_days:a}),void k(o);var t,r,n,a},children:(0,en.jsxs)("div",{className:"flex justify-between items-center",children:[(0,en.jsxs)("div",{children:[(0,en.jsxs)("div",{className:"font-medium text-gray-900",children:[e.carrier," ",e.service]}),(0,en.jsxs)("div",{className:"text-sm text-gray-600",children:[e.transit_days," business days"]})]}),(0,en.jsxs)("div",{className:"text-lg font-semibold text-gray-900",children:["$",e.total_cost.toFixed(2)]})]})},t))}):(0,en.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No shipping rates available. Using default rates."})]}),(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:"\ud83d\udccd Billing Address"}),(0,en.jsxs)("div",{className:"space-y-4",children:[(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,en.jsx)("input",{type:"text",name:"name",value:d.name,onChange:C,required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email *"}),(0,en.jsx)("input",{type:"email",name:"email",value:d.email,onChange:C,required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors"})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,en.jsx)("input",{type:"text",name:"address",value:d.address,onChange:C,required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors"})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,en.jsx)("input",{type:"text",name:"city",value:d.city,onChange:C,required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"State *"}),(0,en.jsx)("input",{type:"text",name:"state",value:d.state,onChange:C,required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"ZIP Code *"}),(0,en.jsx)("input",{type:"text",name:"zipCode",value:d.zipCode,onChange:C,required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500 transition-colors"})]})]})]})]}),(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4 flex items-center",children:"\ud83d\udcb3 Payment Method"}),(0,en.jsxs)("div",{className:"space-y-3",children:[(0,en.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all "+("stripe"===x?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"),onClick:()=>b("stripe"),children:(0,en.jsxs)("div",{className:"flex items-center",children:[(0,en.jsx)("input",{type:"radio",id:"stripe",name:"payment_method",value:"stripe",checked:"stripe"===x,onChange:e=>b(e.target.value),className:"mr-3"}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{htmlFor:"stripe",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"\ud83d\udcb3 Credit/Debit Card (Stripe)"}),(0,en.jsx)("p",{className:"text-xs text-gray-500",children:"Secure payment with Visa, Mastercard, American Express"})]})]})}),(0,en.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all "+("paypal"===x?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"),onClick:()=>b("paypal"),children:(0,en.jsxs)("div",{className:"flex items-center",children:[(0,en.jsx)("input",{type:"radio",id:"paypal",name:"payment_method",value:"paypal",checked:"paypal"===x,onChange:e=>b(e.target.value),className:"mr-3"}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{htmlFor:"paypal",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"\ud83c\udd7f\ufe0f PayPal"}),(0,en.jsx)("p",{className:"text-xs text-gray-500",children:"Pay with your PayPal account or guest checkout"})]})]})}),(0,en.jsx)("div",{className:"p-4 border-2 rounded-lg cursor-pointer transition-all "+("mobile_money"===x?"border-red-500 bg-red-50":"border-gray-200 hover:border-gray-300"),onClick:()=>b("mobile_money"),children:(0,en.jsxs)("div",{className:"flex items-center",children:[(0,en.jsx)("input",{type:"radio",id:"mobile_money",name:"payment_method",value:"mobile_money",checked:"mobile_money"===x,onChange:e=>b(e.target.value),className:"mr-3"}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{htmlFor:"mobile_money",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"\ud83d\udcf1 Mobile Money"}),(0,en.jsx)("p",{className:"text-xs text-gray-500",children:"Pay with mobile money services"})]})]})})]})]}),(0,en.jsx)("button",{onClick:async()=>{f(!0),g("");const e=(()=>{const e=[];return d.name.trim()||e.push("Full name is required"),d.email.trim()||e.push("Email is required"),d.address.trim()||e.push("Address is required"),d.city.trim()||e.push("City is required"),d.state.trim()||e.push("State is required"),d.zipCode.trim()||e.push("ZIP code is required"),e})();if(e.length>0)return g(e[0]),void f(!1);try{const e={cart_items:o.map(e=>({product_id:e.id,product_name:e.name,quantity:e.quantity,unit_price:e.price,total_price:e.price*e.quantity,seller_id:e.seller_id,seller_name:e.seller_name})),shipping_details:s,buyer_info:d,payment_method:x,origin_url:window.location.origin},t=await fetch("https://libtousa.com/api/payments/checkout/session",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(e)});if(t.ok){const e=await t.json();e.success&&e.checkout_url?(localStorage.removeItem("cart"),window.location.href=e.checkout_url):g("Failed to create checkout session")}else{const e=await t.json();g(e.detail||"Checkout failed")}}catch(h){g("Error during checkout")}finally{f(!1)}},disabled:m||!u,className:"registration-submit-btn w-full py-4 px-6 text-lg font-bold rounded-lg shadow-lg transition-all",style:{background:m?"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",cursor:m?"not-allowed":"pointer",boxShadow:m?"none":"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:m?(0,en.jsxs)("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Processing Payment..."]}):`\ud83d\ude80 Complete Purchase - $${(null===u||void 0===u||null===(e=u.total_amount)||void 0===e?void 0:e.toFixed(2))||"0.00"}`}),(0,en.jsx)("div",{className:"text-center p-4 bg-green-50 rounded-lg border border-green-200",children:(0,en.jsx)("p",{className:"text-sm text-green-700",children:"\ud83d\udd12 Your payment information is secure and protected with industry-standard encryption"})})]})]})]})]}):null},En=()=>{var e,t;const{user:r}=(0,a.useContext)(tn),n=ne(),[o]=Pe(),[i,s]=(0,a.useState)(null),[l,d]=(0,a.useState)(!0),[c,u]=(0,a.useState)("");(0,a.useEffect)(()=>{if(!r)return void n("/login");const e=o.get("session_id");e?p(e):(u("No payment session found"),d(!1))},[r,n,o]);const p=async e=>{try{const t=await fetch(`https://libtousa.com/api/payments/status/${e}`,{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(t.ok){const e=await t.json();s(e)}else u("Failed to retrieve payment status")}catch(c){u("Error checking payment status")}finally{d(!1)}};if(l)return(0,en.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"text-center",children:[(0,en.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600 mx-auto"}),(0,en.jsx)("p",{className:"mt-4 text-gray-600",children:"Verifying payment..."})]})});if(c)return(0,en.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"max-w-md mx-auto text-center",children:[(0,en.jsx)("div",{className:"bg-red-100 rounded-full p-3 w-16 h-16 mx-auto mb-4",children:(0,en.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,en.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,en.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Payment Error"}),(0,en.jsx)("p",{className:"text-gray-600 mb-6",children:c}),(0,en.jsx)("button",{onClick:()=>n("/marketplace"),className:"bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700",children:"Continue Shopping"})]})});const m="paid"===(null===i||void 0===i?void 0:i.payment_status);return(0,en.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,en.jsx)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"1rem 0",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",border:"3px solid #ffd700"},children:(0,en.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,en.jsxs)("h1",{style:{fontSize:"2rem",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:["\ud83c\uddf1\ud83c\uddf7 ",m?"Payment Successful!":"Payment Status"," \ud83c\uddfa\ud83c\uddf8"]}),(0,en.jsx)("p",{style:{fontSize:"1rem",opacity:"0.9",marginTop:"0.5rem"},children:m?"\ud83c\udf89 Your Independence Day Purchase is Complete! \ud83c\udf89":"Payment Processing Update"})]})}),(0,en.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,en.jsx)("div",{className:"max-w-md mx-auto",children:(0,en.jsx)("div",{className:"bg-white rounded-lg shadow-lg p-8",style:{border:"2px solid #ffd700"},children:(0,en.jsxs)("div",{className:"text-center",children:[(0,en.jsx)("div",{className:(m?"bg-green-100":"bg-red-100")+" rounded-full p-4 w-20 h-20 mx-auto mb-6",children:m?(0,en.jsx)("svg",{className:"w-12 h-12 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,en.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):(0,en.jsx)("svg",{className:"w-12 h-12 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,en.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,en.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:m?"Thank You for Your Purchase!":"Payment Failed"}),m?(0,en.jsxs)("div",{children:[(0,en.jsx)("p",{className:"text-gray-600 mb-6",children:"\ud83c\udf8a Your order has been confirmed and is being processed. You'll receive an email confirmation shortly."}),(0,en.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[(0,en.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:"\ud83d\udcb3 Payment Details"}),(0,en.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Amount:"}),(0,en.jsxs)("span",{className:"font-medium",children:["$",(null===i||void 0===i||null===(e=i.amount)||void 0===e?void 0:e.toFixed(2))||"N/A"]})]}),(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Currency:"}),(0,en.jsx)("span",{className:"font-medium",children:(null===i||void 0===i||null===(t=i.currency)||void 0===t?void 0:t.toUpperCase())||"USD"})]}),(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Status:"}),(0,en.jsxs)("span",{className:"font-medium text-green-600",children:["\u2705 ",(null===i||void 0===i?void 0:i.payment_status)||"Confirmed"]})]})]})]}),(0,en.jsxs)("div",{className:"space-y-3",children:[(0,en.jsx)("button",{onClick:()=>n("/orders"),className:"registration-submit-btn w-full py-3 px-6 rounded-lg font-medium",style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",boxShadow:"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:"\ud83d\udccb View My Orders"}),(0,en.jsx)("button",{onClick:()=>n("/marketplace"),className:"w-full py-3 px-6 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"\ud83d\udecd\ufe0f Continue Shopping"})]})]}):(0,en.jsxs)("div",{children:[(0,en.jsx)("p",{className:"text-gray-600 mb-6",children:"Unfortunately, your payment could not be processed. Please try again or contact support if the issue persists."}),(0,en.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-6 text-left",children:[(0,en.jsx)("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center",children:"\u274c Payment Status"}),(0,en.jsxs)("div",{className:"text-sm text-gray-600 space-y-2",children:[(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Status:"}),(0,en.jsx)("span",{className:"font-medium text-red-600",children:(null===i||void 0===i?void 0:i.payment_status)||"Failed"})]}),(null===i||void 0===i?void 0:i.session_status)&&(0,en.jsxs)("div",{className:"flex justify-between",children:[(0,en.jsx)("span",{children:"Session Status:"}),(0,en.jsx)("span",{className:"font-medium",children:i.session_status})]})]})]}),(0,en.jsxs)("div",{className:"space-y-3",children:[(0,en.jsx)("button",{onClick:()=>n("/marketplace"),className:"registration-submit-btn w-full py-3 px-6 rounded-lg font-medium",style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",boxShadow:"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:"\ud83d\udd04 Try Again"}),(0,en.jsx)("button",{onClick:()=>n("/marketplace"),className:"w-full py-3 px-6 rounded-lg font-medium border-2 border-gray-300 text-gray-700 hover:bg-gray-50 transition-colors",children:"\ud83c\udfe0 Back to Marketplace"})]})]})]})})})})]})},Rn=()=>{const{user:e}=(0,a.useContext)(tn),t=ne(),[r,n]=(0,a.useState)([]),[o,i]=(0,a.useState)([]),[s,l]=(0,a.useState)(!0),[d,c]=(0,a.useState)(""),[u,p]=(0,a.useState)("orders");(0,a.useEffect)(()=>{e?m():t("/login")},[e,t]);const m=async()=>{try{const e=await fetch("https://libtousa.com/api/payments/transactions",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});if(e.ok){const t=await e.json();n([]),i(t.transactions||[])}else c("Failed to load transactions")}catch(d){c("Error loading data")}finally{l(!1)}},f=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),h=e=>{switch(e){case"paid":case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"failed":case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return s?(0,en.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,en.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-600"})}):d?(0,en.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"text-center",children:[(0,en.jsx)("p",{className:"text-red-600 mb-4",children:d}),(0,en.jsx)("button",{onClick:m,className:"bg-orange-600 text-white px-4 py-2 rounded-md hover:bg-orange-700",children:"Try Again"})]})}):(0,en.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,en.jsxs)("div",{className:"max-w-6xl mx-auto px-4",children:[(0,en.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"My Orders & Transactions"}),(0,en.jsx)("div",{className:"border-b border-gray-200 mb-8",children:(0,en.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,en.jsxs)("button",{onClick:()=>p("orders"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("orders"===u?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Orders (",r.length,")"]}),(0,en.jsxs)("button",{onClick:()=>p("transactions"),className:"py-2 px-1 border-b-2 font-medium text-sm "+("transactions"===u?"border-orange-500 text-orange-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Transactions (",o.length,")"]})]})}),"orders"===u&&(0,en.jsx)("div",{className:"space-y-6",children:0===r.length?(0,en.jsxs)("div",{className:"text-center py-12",children:[(0,en.jsx)("p",{className:"text-gray-500 text-lg",children:"No orders found"}),(0,en.jsx)("button",{onClick:()=>t("/marketplace"),className:"mt-4 bg-orange-600 text-white px-6 py-2 rounded-md hover:bg-orange-700",children:"Start Shopping"})]}):r.map(e=>(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,en.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Order #",e.id.slice(-8)]}),(0,en.jsx)("p",{className:"text-sm text-gray-600",children:f(e.created_at)})]}),(0,en.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,en.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(e.status)}`,children:e.status}),(0,en.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:["$",e.total_amount.toFixed(2)]})]})]}),e.cart_items&&(0,en.jsxs)("div",{className:"border-t pt-4",children:[(0,en.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Items:"}),(0,en.jsx)("div",{className:"space-y-2",children:e.cart_items.map((e,t)=>(0,en.jsxs)("div",{className:"flex justify-between items-center",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("span",{className:"font-medium text-gray-900",children:e.product_name}),(0,en.jsxs)("span",{className:"text-sm text-gray-600 ml-2",children:["Qty: ",e.quantity]})]}),(0,en.jsxs)("span",{className:"text-gray-900",children:["$",e.total_price.toFixed(2)]})]},t))})]}),e.shipping_details&&(0,en.jsxs)("div",{className:"border-t pt-4 mt-4",children:[(0,en.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Shipping:"}),(0,en.jsxs)("p",{className:"text-sm text-gray-600",children:[e.shipping_details.carrier," ",e.shipping_details.service," - $",e.shipping_details.cost.toFixed(2)]})]})]},e.id))}),"transactions"===u&&(0,en.jsx)("div",{className:"space-y-6",children:0===o.length?(0,en.jsx)("div",{className:"text-center py-12",children:(0,en.jsx)("p",{className:"text-gray-500 text-lg",children:"No transactions found"})}):o.map(e=>(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,en.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Transaction #",e.id.slice(-8)]}),(0,en.jsx)("p",{className:"text-sm text-gray-600",children:f(e.created_at)})]}),(0,en.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,en.jsx)("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${h(e.payment_status)}`,children:e.payment_status}),(0,en.jsxs)("span",{className:"text-lg font-semibold text-gray-900",children:["$",e.amount.toFixed(2)]})]})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,en.jsxs)("div",{children:[(0,en.jsxs)("p",{className:"text-gray-600",children:[(0,en.jsx)("strong",{children:"Payment Method:"})," ",e.payment_method]}),(0,en.jsxs)("p",{className:"text-gray-600",children:[(0,en.jsx)("strong",{children:"Currency:"})," ",e.currency]})]}),(0,en.jsxs)("div",{children:[(0,en.jsxs)("p",{className:"text-gray-600",children:[(0,en.jsx)("strong",{children:"Order Type:"})," ",e.order_type||"N/A"]}),e.items_count&&(0,en.jsxs)("p",{className:"text-gray-600",children:[(0,en.jsx)("strong",{children:"Items:"})," ",e.items_count]}),e.package_id&&(0,en.jsxs)("p",{className:"text-gray-600",children:[(0,en.jsx)("strong",{children:"Package:"})," ",e.package_id]})]})]})]},e.id))})]})})},zn=()=>{var e,t,r;const{user:n}=(0,a.useContext)(tn),o=ne(),[i,s]=(0,a.useState)(null),[l,d]=(0,a.useState)([]),[c,u]=(0,a.useState)([]),[p,m]=(0,a.useState)(null),[f,h]=(0,a.useState)(!0),[g,x]=(0,a.useState)(""),[b,y]=(0,a.useState)("profile"),[v,w]=(0,a.useState)({full_name:"",date_of_birth:"",nationality:"Liberian",national_id_number:"",business_name:"",business_type:"",business_registration_number:"",tax_identification_number:"",physical_address:"",city:"",county:"",postal_code:"",bank_name:"",account_holder_name:"",account_number:"",mobile_money_number:""}),[j,S]=(0,a.useState)({document_type:"national_id",document_name:"",file:null});(0,a.useEffect)(()=>{n?"seller"===n.userType?k():o("/dashboard"):o("/login")},[n,o]);const k=async()=>{try{const[e,t]=await Promise.all([fetch("https://libtousa.com/api/verification/profile",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),fetch("https://libtousa.com/api/verification/status",{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}})]);if(e.ok&&t.ok){const r=await e.json(),n=await t.json();r.profile&&(s(r.profile),w({full_name:r.profile.full_name||"",date_of_birth:r.profile.date_of_birth||"",nationality:r.profile.nationality||"Liberian",national_id_number:r.profile.national_id_number||"",business_name:r.profile.business_name||"",business_type:r.profile.business_type||"",business_registration_number:r.profile.business_registration_number||"",tax_identification_number:r.profile.tax_identification_number||"",physical_address:r.profile.physical_address||"",city:r.profile.city||"",county:r.profile.county||"",postal_code:r.profile.postal_code||"",bank_name:r.profile.bank_name||"",account_holder_name:r.profile.account_holder_name||"",account_number:r.profile.account_number||"",mobile_money_number:r.profile.mobile_money_number||""})),d(r.documents||[]),u(r.counties||[]),m(n)}else x("Failed to load verification data")}catch(g){x("Error loading verification data")}finally{h(!1)}},C=e=>{switch(e){case"approved":return"#10b981";case"rejected":return"#ef4444";case"pending":return"#f59e0b";case"under_review":return"#3b82f6";default:return"#6b7280"}},N=e=>{switch(e){case"approved":return"\u2705";case"rejected":return"\u274c";case"pending":return"\u23f3";case"under_review":return"\ud83d\udd0d";default:return"\ud83d\udccb"}};return f&&!i?(0,en.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,en.jsxs)("div",{className:"text-center",children:[(0,en.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto"}),(0,en.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading verification data..."})]})}):(0,en.jsxs)("div",{className:"min-h-screen bg-gray-50 py-8",children:[(0,en.jsx)("div",{style:{background:"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",padding:"1rem 0",marginBottom:"2rem",boxShadow:"0 4px 20px rgba(0,0,0,0.2)",border:"3px solid #ffd700"},children:(0,en.jsxs)("div",{className:"max-w-4xl mx-auto px-4 text-center",children:[(0,en.jsx)("h1",{style:{fontSize:"2.5rem",fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.5)",animation:"textGlow 2s ease-in-out infinite alternate"},children:"\ud83c\uddf1\ud83c\uddf7 Seller Verification \ud83c\udfc6"}),(0,en.jsx)("p",{style:{fontSize:"1.1rem",opacity:"0.9",marginTop:"0.5rem"},children:"\ud83c\udf89 Verify Your Identity - Build Trust with American Buyers! \ud83c\udf89"})]})}),(0,en.jsxs)("div",{className:"max-w-4xl mx-auto px-4",children:[g&&(0,en.jsxs)("div",{className:"error-message mb-6",style:{background:"linear-gradient(135deg, #fef2f2 0%, #fed7d7 100%)",color:"#dc2626",padding:"1rem",borderRadius:"10px",border:"2px solid #fecaca",display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,en.jsx)("span",{style:{fontSize:"1.2rem"},children:"\u26a0\ufe0f"}),(0,en.jsx)("span",{style:{fontWeight:"500"},children:g})]}),p&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6 mb-8",style:{border:"2px solid #ffd700"},children:[(0,en.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,en.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"\ud83d\udcca Verification Status"}),(0,en.jsxs)("div",{className:"flex items-center gap-2",children:[(0,en.jsx)("span",{style:{color:C(p.verification_status)},children:N(p.verification_status)}),(0,en.jsx)("span",{className:"font-medium",style:{color:C(p.verification_status)},children:null===(e=p.verification_status)||void 0===e?void 0:e.replace("_"," ").toUpperCase()})]})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,en.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,en.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[p.progress_percentage,"%"]}),(0,en.jsx)("div",{className:"text-sm text-blue-800",children:"Progress"})]}),(0,en.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,en.jsx)("div",{className:"text-2xl font-bold text-green-600",children:p.approved_count}),(0,en.jsx)("div",{className:"text-sm text-green-800",children:"Approved Docs"})]}),(0,en.jsxs)("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[(0,en.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:p.pending_count}),(0,en.jsx)("div",{className:"text-sm text-orange-800",children:"Pending Review"})]})]}),p.verification_notes&&(0,en.jsx)("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,en.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,en.jsx)("strong",{children:"Admin Notes:"})," ",p.verification_notes]})})]}),(0,en.jsx)("div",{className:"mb-8",children:(0,en.jsx)("nav",{className:"flex space-x-8 border-b border-gray-200",children:[{id:"profile",label:"\ud83d\udc64 Profile Information",disabled:!1},{id:"documents",label:"\ud83d\udccb Documents",disabled:!i},{id:"status",label:"\ud83d\udcca Review Status",disabled:!i}].map(e=>(0,en.jsx)("button",{onClick:()=>!e.disabled&&y(e.id),disabled:e.disabled,className:"py-2 px-1 border-b-2 font-medium text-sm "+(b===e.id?"border-red-500 text-red-600":e.disabled?"border-transparent text-gray-400 cursor-not-allowed":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.label},e.id))})}),"profile"===b&&(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udc64 Personal & Business Information"}),(0,en.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0),x("");try{const e=await fetch("https://libtousa.com/api/verification/profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(v)});if(e.ok){const t=await e.json();t.success?(k(),y("documents")):x(t.message||"Failed to save profile")}else{const t=await e.json();x(t.detail||"Failed to save profile")}}catch(g){x("Error saving profile")}finally{h(!1)}},className:"space-y-6",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Personal Details"}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),(0,en.jsx)("input",{type:"text",value:v.full_name,onChange:e=>w({...v,full_name:e.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Date of Birth"}),(0,en.jsx)("input",{type:"date",value:v.date_of_birth,onChange:e=>w({...v,date_of_birth:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nationality"}),(0,en.jsxs)("select",{value:v.nationality,onChange:e=>w({...v,nationality:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",children:[(0,en.jsx)("option",{value:"Liberian",children:"Liberian"}),(0,en.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"National ID Number"}),(0,en.jsx)("input",{type:"text",value:v.national_id_number,onChange:e=>w({...v,national_id_number:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Business Details (Optional)"}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name"}),(0,en.jsx)("input",{type:"text",value:v.business_name,onChange:e=>w({...v,business_name:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Type"}),(0,en.jsxs)("select",{value:v.business_type,onChange:e=>w({...v,business_type:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",children:[(0,en.jsx)("option",{value:"",children:"Select business type"}),(0,en.jsx)("option",{value:"sole_proprietorship",children:"Sole Proprietorship"}),(0,en.jsx)("option",{value:"partnership",children:"Partnership"}),(0,en.jsx)("option",{value:"corporation",children:"Corporation"}),(0,en.jsx)("option",{value:"llc",children:"LLC"})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Registration Number"}),(0,en.jsx)("input",{type:"text",value:v.business_registration_number,onChange:e=>w({...v,business_registration_number:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax ID Number"}),(0,en.jsx)("input",{type:"text",value:v.tax_identification_number,onChange:e=>w({...v,tax_identification_number:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Address Information"}),(0,en.jsxs)("div",{className:"space-y-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Physical Address *"}),(0,en.jsx)("input",{type:"text",value:v.physical_address,onChange:e=>w({...v,physical_address:e.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"City *"}),(0,en.jsx)("input",{type:"text",value:v.city,onChange:e=>w({...v,city:e.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"County *"}),(0,en.jsxs)("select",{value:v.county,onChange:e=>w({...v,county:e.target.value}),required:!0,className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",children:[(0,en.jsx)("option",{value:"",children:"Select county"}),c.map(e=>(0,en.jsx)("option",{value:e,children:e},e))]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Postal Code"}),(0,en.jsx)("input",{type:"text",value:v.postal_code,onChange:e=>w({...v,postal_code:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]})]})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("h4",{className:"text-md font-medium text-gray-900 mb-3",children:"Payment Information (Optional)"}),(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Bank Name"}),(0,en.jsx)("input",{type:"text",value:v.bank_name,onChange:e=>w({...v,bank_name:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Holder Name"}),(0,en.jsx)("input",{type:"text",value:v.account_holder_name,onChange:e=>w({...v,account_holder_name:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Account Number"}),(0,en.jsx)("input",{type:"text",value:v.account_number,onChange:e=>w({...v,account_number:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Mobile Money Number"}),(0,en.jsx)("input",{type:"text",value:v.mobile_money_number,onChange:e=>w({...v,mobile_money_number:e.target.value}),placeholder:"+231 XXX XXXX",className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]})]})]}),(0,en.jsx)("button",{type:"submit",disabled:f,className:"registration-submit-btn w-full py-3 px-6 rounded-lg font-medium",style:{background:f?"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",cursor:f?"not-allowed":"pointer",boxShadow:f?"none":"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:f?"\u23f3 Saving...":"\ud83d\udcbe Save Profile Information"})]})]}),"documents"===b&&(0,en.jsxs)("div",{className:"space-y-6",children:[(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"\ud83d\udccb Upload Verification Documents"}),(0,en.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j.file){h(!0),x("");try{const e=new FileReader;e.onload=async()=>{const t=e.result.split(",")[1],r={document_type:j.document_type,document_name:j.document_name,file_content:t,file_type:j.file.type,file_size:j.file.size},n=await fetch("https://libtousa.com/api/verification/documents/upload",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("auth_token")}`},body:JSON.stringify(r)});if(n.ok){const e=await n.json();if(e.success){k(),S({document_type:"national_id",document_name:"",file:null});const e=document.getElementById("file-upload");e&&(e.value="")}else x(e.message||"Failed to upload document")}else{const e=await n.json();x(e.detail||"Failed to upload document")}h(!1)},e.readAsDataURL(j.file)}catch(g){x("Error uploading document"),h(!1)}}else x("Please select a file")},className:"space-y-4",children:[(0,en.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Type *"}),(0,en.jsxs)("select",{value:j.document_type,onChange:e=>S({...j,document_type:e.target.value}),className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500",children:[(0,en.jsx)("option",{value:"national_id",children:"National ID Card"}),(0,en.jsx)("option",{value:"passport",children:"Passport"}),(0,en.jsx)("option",{value:"drivers_license",children:"Driver's License"}),(0,en.jsx)("option",{value:"business_registration",children:"Business Registration"}),(0,en.jsx)("option",{value:"utility_bill",children:"Utility Bill"}),(0,en.jsx)("option",{value:"bank_statement",children:"Bank Statement"})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Name"}),(0,en.jsx)("input",{type:"text",value:j.document_name,onChange:e=>S({...j,document_name:e.target.value}),placeholder:"Enter document name",className:"w-full p-3 border-2 border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"})]})]}),(0,en.jsxs)("div",{children:[(0,en.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Choose File *"}),(0,en.jsx)("input",{id:"file-upload",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>{const t=e.target.files[0];if(t){const e=10485760,r=["image/jpeg","image/jpg","image/png","application/pdf"];if(t.size>e)return void x("File size cannot exceed 10MB");if(!r.includes(t.type))return void x("File must be JPEG, PNG, or PDF");S({...j,file:t,document_name:t.name})}},className:"w-full p-3 border-2 border-dashed border-gray-300 rounded-md focus:ring-red-500 focus:border-red-500"}),(0,en.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Accepted formats: JPEG, PNG, PDF. Maximum size: 10MB"})]}),(0,en.jsx)("button",{type:"submit",disabled:f||!j.file,className:"registration-submit-btn w-full py-3 px-6 rounded-lg font-medium",style:{background:f||!j.file?"linear-gradient(135deg, #9ca3af 0%, #6b7280 100%)":"linear-gradient(135deg, #dc2626 0%, #b91c1c 100%)",color:"white",border:"none",cursor:f||!j.file?"not-allowed":"pointer",boxShadow:f||!j.file?"none":"0 4px 15px rgba(220, 38, 38, 0.3)",textShadow:"1px 1px 2px rgba(0,0,0,0.3)"},children:f?"\u23f3 Uploading...":"\ud83d\udce4 Upload Document"})]})]}),(0,en.jsxs)("div",{className:"bg-white rounded-lg shadow-lg p-6",style:{border:"2px solid #ffd700"},children:[(0,en.jsx)("h3",{className:"text-lg font-semibold text-gray-90